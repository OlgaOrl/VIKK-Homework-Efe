<!DOCTYPE html><!--Näitab faili tüüpi-->
<html lang="en"><!--Paneb keele paika (ingl-->
<head><!--määrab metaandmeid, lehe pealkirja, välised stiililehed ja skriptid-->
    <meta charset="UTF-8"><!--määrab tähemärgestiku-->
    <title>Kodutöö-1 16.sept 2024</title><!-- määrab lehe nime-->
    <style>/*määrab kogu veebilehe tausta-ja tekstistiilid*/
    body { /*kuvab veebilehesisu, määrab struktuuri ja kujunduse, interaktiivsust ja funktsionaalsust*/
        background-color: black; /*määrab veebilehe valge värvi tausta */
    }

    /*koodiploki lõpp*/
    h1, h2, p, li, ul, ol, h3, h4 {
        color: white; /*määrab pealkirja 1, 2,3,4 paragrafi, nimekirja, loendite tausta valge värviga*/
    }

    /*koodiploki lõpp*/

    div { /*paneb uue rea/plokki paika*/
        background-color: #333; /*määrab ploki tausta värvi (hall)*/
        padding: 10px; /*määrab tühiku reade vahel 10px*/
        border-radius: 10px; /*määrab ploki piiri raadiuse 10px*/
        margin-bottom: 20px; /*määrab tühiku 20px elemendi alumise osa ja järgmise elemendi vahel*/
    }

    input { /*laseb sisestada infot*/
        display: block; /*sisestusväli asetseb oma real ja võtab nii palju laiust, kui on saadaval*/
        margin-bottom: 3px; /*määrab tühiku 3px elemendi alumise osa ja järgmise elemendi vahel*/
    }

    /*koodiploki lõpp*/

    .status-screen { /* näitab olekukuva info*/
        background-color: #222; /*olekukuva kasti tausta värv nr #22<!--2*/
        padding: 15px; /*määrab tühiku reade vahel 15px*/
        border-radius: 10px; /*määrab ploki piiride raadiuse 10px*/
    }

    /*koodiploki lõpp*/
    </style><!--määrab kogu veebilehe tausta-ja tekstistiilid-->
</head><!--määrab metaandmeid, lehe pealkirja, välised stiililehed ja skriptid-->
<body><!--kuvab veebilehesisu, määrab struktuuri ja kujunduse, interaktiivsust ja funktsionaalsust-->
<div><!--paneb uue rea/plokki paika-->
    <h1>Kodutöö-1 16.sept 2024</h1> <!--määrab pealkirja 1 nime -->
    <h2>Teema: Keemiatööstus</h2><!-- määrab pealkirja 2 nime-->

    <form id="chemForm"><!-- määrab vormi elemendi, millele on antud unikaalne identifikaator -->
        <input type="text" name="chem" id="chem" placeholder="Kemikaal" required>
        <!--määrab sisestusvälja, mis võimaldab kasutajal sisestada teksti, konkreetse sisestusvälja nime, unikaalse idendifikaatori Chem ja sisestuvälja teksti-->
        <input type="number" name="qty" id="qty" placeholder="Kogus (L)" required>
        <!--määrab sisestusvälja, mis on mõeldud numbrite sisestamiseks -->
        <input type="submit" value="Sisesta"><!--määrab esitamisnupu, mida kasutatakse veebivormide esitamiseks-->
    </form><!--lõpetab vormi, -->
</div><!--lõpetab plokki-->

<div class="status-screen">
    <!-- loob jaotise, mis plokitab sisu,rakendab sellele jaotisele konkreetse stiili, mida on määratud CSS-is-->
    <h3>Lao seis</h3><!--määrab pealkirja 3 nime -->
    <p id="status">Andmeid pole veel sisestatud.</p><!-- määrab uue paragrafi teksti-->
</div><!--lõpetab jaotise-->

<script> /* Lisab JavaScripti koodi */
const submissionData = []; // Määrab konstantse tühja massiivi

document.getElementById('chemForm').addEventListener('submit', function (event) { // Lisab sündmuse kuulaja vormi esitamisele
    event.preventDefault(); // Peatab vormi vaikekäitumise
    const chem = document.getElementById('chem').value.trim(); // Saab kemikaali sisestatud väärtuse ja eemaldab tühikud
    const qty = parseInt(document.getElementById('qty').value.trim()); // Võtab sisestatud koguse ja teisendab täisarvuks
    const existingEntry = submissionData.find(entry => entry.chem.toLowerCase() === chem.toLowerCase()); // Kontrollib, kas kemikaal on juba lisatud

    if (existingEntry) { // Kui kemikaal on olemas, suurendab selle kogust
        existingEntry.qty += qty;
    } else { // Kui kemikaali pole, lisab uue
        submissionData.push({chem, qty});
    } // Koodiploki lõpp

    updateStatusScreen(); // Kutsutakse olekukasti uuendamise funktsioon

    document.getElementById('chem').value = ''; // Tühjendab kemikaali sisendvälja
    document.getElementById('qty').value = ''; // Tühjendab koguse sisendvälja
}); // Koodiploki ja sündmuse kuulaja lõpp

function updateStatusScreen() { // Funktsioon olekukasti uuendamiseks
    const statusDiv = document.getElementById('status'); // Leiab olekukasti elemendi

    if (submissionData.length === 0) { // Kui pole sisestatud andmeid
        statusDiv.innerHTML = 'No data submitted yet.'; // Kuvatakse teade, et andmeid pole
    } else { // Kui andmeid on olemas
        let statusHTML = '<ul>'; // Loob järjestamata loendi
        submissionData.forEach(function (entry, index) { // Läbib kõik sisestatud kemikaalid
            statusHTML += `<li>Kemikaal: ${entry.chem}, <br> Kogus: ${entry.qty} L</li>`; // Lisab kemikaali loendisse
        }); // Loendielementide lisamine lõpetatakse
        statusHTML += '</ul>'; // Sulgeb loendi
        statusDiv.innerHTML = statusHTML; // Kuvab uuendatud loendi olekukastis
    } // Koodiploki lõpp
} // Koodiploki lõpp
</script><!--<script> Scripti sulgemine -->
</body><!--lõpetab <body> elemendi ja tähistab selle sisu lõppu -->
</html><!-- kogu veebilehe lõpetamine-->
