<!DOCTYPE html><!--Näitab faili tüüpi-->
<html lang="en"><!--Paneb keel paika (ingl-->
<head><!--määrab metaandmeid, lehe pealkirja, välised stiililehed ja skriptid-->
    <meta charset="UTF-8"><!--määrab tähemärgestiku-->
    <title>Kodutöö-1 16.sept 2024</title><!-- määrab lehe nime-->
    <style>/*määrab kogu veebilehe tausta-ja tekstistiilid*/
        body {/*kuvab veebilehesisu, määrab struktuuri ja kujunduse, interaktiivsust ja funktsionaalsust*/
            background-color: black;/*määrab veebilehe valge värvi tausta */
        }/*koodiploki lõpp*/
        h1, h2, p, li, ul, ol, h3, h4 {
            color: white;/*määrab pealkirja 1, 2,3,4 paragrafi, nimekirja, loendite tausta valge värviga*/
        }/*koodiploki lõpp*/

        div {/*paneb uue rea/plokki paika*/
            background-color: #333;/*määrab ploki tausta värvi (hall)*/
            padding: 10px;/*määrab tühiku reade vahel 10px*/
            border-radius: 10px;/*määrab ploki piiri raadiuse 10px*/
            margin-bottom: 20px;/*määrab tühiku 20px elemendi alumise osa ja järgmise elemendi vahel*/      }

        input {/*laseb sisestada infot*/
            display: block;/*sisestusväli asetseb oma real ja võtab nii palju laiust, kui on saadaval*/
            margin-bottom: 3px;/*määrab tühiku 3px elemendi alumise osa ja järgmise elemendi vahel*/
        }/*koodiploki lõpp*/

        .status-screen {/* näitab olekukuva info*/
            background-color: #222;/*olekukuva kasti tausta värv nr #22<!--2*/
            padding: 15px;/*määrab tühiku reade vahel 15px*/
            border-radius: 10px;/*määrab ploki piiride raadiuse 10px*/
        }/*koodiploki lõpp*/
    </style><!--määrab kogu veebilehe tausta-ja tekstistiilid-->
</head><!--määrab metaandmeid, lehe pealkirja, välised stiililehed ja skriptid-->
<body><!--kuvab veebilehesisu, määrab struktuuri ja kujunduse, interaktiivsust ja funktsionaalsust-->
<div><!--paneb uue rea/plokki paika-->
    <h1>Kodutöö-1 16.sept 2024</h1> <!--määrab pealkirja 1 nime -->
    <h2>Teema: Keemiatööstus</h2><!-- määrab pealkirja 2 nime-->

    <form id="chemForm"><!-- määrab vormi elemendi, millele on antud unikaalne identifikaator -->
        <input type="text" name="chem" id="chem" placeholder="Kemikaal" required><!--määrab sisestusvälja, mis võimaldab kasutajal sisestada teksti, konkreetse sisestusvälja nime, unikaalse idendifikaatori Chem ja sisestuvälja teksti-->
        <input type="number" name="qty" id="qty" placeholder="Kogus (L)" required><!--määrab sisestusvälja, mis on mõeldud numbrite sisestamiseks -->
        <input type="submit" value="Sisesta"><!--määrab esitamisnupu, mida kasutatakse veebivormide esitamiseks-->
    </form><!--lõpetab vormi, -->
</div><!--lõpetab plokki-->

<div class="status-screen"><!-- loob jaotise, mis plokitab sisu,rakendab sellele jaotisele konkreetse stiili, mida on määratud CSS-is-->
    <h3>Lao seis</h3><!--määrab pealkirja 3 nime -->
    <p id="status">Andmeid pole veel sisestatud.</p><!-- määrab uue paragrafi teksti-->
</div><!--lõpetab jaotise-->

<script> /*element lisab veebilehele JavaScripti koodi või viitab välisele JavaScripti failile*/
    const submissionData = [];<!-- määrab JavaScriptis muutumatu konstantse muutuja nimega submissionData, mis on tühi massiiv.-->

    document.getElementById('chemForm').addEventListener('submit', function(event) {<!--määrab sündmuse kuulaja vormi esitamise sündmusele -->
        event.preventDefault();<!-- peatab vormi vaikekäitumise, mis tähendab, et vormi ei saadeta serverisse ega värskendata lehte.-->
        const chem = document.getElementById('chem').value.trim();<!--määrab JavaScriptis konstanti chem, mille väärtuseks on HTML-vormis oleva sisendvälja (id="chem") sisu, millest on eemaldatud kõik alguses ja lõpus olevad tühikud -->
        const qty = parseInt(document.getElementById('qty').value.trim());<!--See rida võtab kasutaja sisestatud väärtuse, eemaldab tühikud ja teisendab selle täisarvuks, et saaks seda edasi töödelda või valideerida. -->
        const existingEntry = submissionData.find(entry => entry.chem.toLowerCase() === chem.toLowerCase());<!-- Kui vorm esitatakse, JavaScript otsib massiivist submissionData, kas selline kemikaal on juba olemas, ja annab sellest kasutajale teada ja find(): JavaScripti meetod, mis otsib massiivist esimese elemendi, mis vastab määratud tingimustele.-->

        if (existingEntry) {<!-- kontrollib, kas muutuja existingEntry sisaldab väärtust, kui tingimus on tõene (st existingEntry ei ole undefined, null ega tühi), täidetakse koodiplokk, mis on tingimuse sees-->
            existingEntry.qty += qty;<!--suurendab objekti existingEntry omaduse qty väärtust, lisades sellele arvu, mis on salvestatud muutujasse qty -->
        } else {<!--määrab alternatiivse tegevuse, kui esialgne tingimus ei vasta tõele -->
            submissionData.push({ chem, qty });<!--lisab massiivi submissionData uue objekti, millel on kaks omadust: chem (kemikaali nimi) ja qty (kogus) -->
        }<!-- koodiploki lõpp-->

        updateStatusScreen();<!--koodirida, mis käivitab funktsiooni nimega updateStatusScreen() -->

        document.getElementById('chem').value = '';<!--määrab sisendvälja, mille id on 'chem', väärtuseks tühja stringi, kasutaja poolt sisestatud andmed eemaldatakse ja sisendväli muutub tühjaks -->
        document.getElementById('qty').value = '';<!--määrab sisendvälja, mille id on 'qty', väärtuseks tühja stringi, mis tühjendab kasutaja sisestatud koguse -->
    });/*tähistab JavaScriptis koodiploki ja funktsioonikutsumise lõpetamist*/

    function updateStatusScreen() {<!--koodirida, mis käivitab funktsiooni nimega updateStatusScreen() -->
        const statusDiv = document.getElementById('status');<!-- määrab JavaScripti muutujale statusDiv HTML-i elemendi, mille id on 'status'-->

        if (submissionData.length === 0) {<!--kontrollib, kas submissionData massiiv on tühi (st selle pikkus on 0) -->
            statusDiv.innerHTML = 'No data submitted yet.';<!-- määrab HTML-i elemendi sisutekstiks "No data submitted yet.", asendades selle elemendi olemasoleva sisu-->
        } else {<!-- määrab alternatiivse tegevuse, kui esialgne tingimus ei vasta tõele-->
            let statusHTML = '<ul>';<!--määrab JavaScriptis muutuja statusHTML algväärtuseks stringi, mis esindab HTML-i järjestamata loendi (<ul>) algust -->
            submissionData.forEach(function(entry, index) {<!--käivitab JavaScripti funktsiooni iga massiivi elemendi jaoks -->
                statusHTML += `<li>Kemikaal: ${entry.chem}, <br> Kogus: ${entry.qty} L</li>`;<!-- lisab HTML-i loendi elemendi stringi, kus kuvatakse kemikaali nimi ja kogus-->
            });/* koodiploki ja funktsioonikutsumise lõpetamine*/
            statusHTML += '</ul>';<!-- loendi lõpetamine, mis on avatud <ul>-ga-->
            statusDiv.innerHTML = statusHTML;<!-- lisab või muudab veebilehe sisu, loob HTML-i struktuure (nagu loendid või tabelid) JavaScripti abil ja kuvab need HTML-i elementides-->
        }<!-- koodiploki lõpp-->
    }<!-- koodiploki lõpp-->
</script><!--<script> elemendi sulgemine -->
</body><!--lõpetab <body> elemendi ja tähistab selle sisu lõppu -->
</html><!-- kogu veebilehe lõpetamine-->
